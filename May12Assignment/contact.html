<!DOCTYPE html>
<html>
<title>Contact</title>

<head>
  <meta charset="UTF-8">
  <script scr="https://console.firebase.google.com/project/contact-me-6886e/database"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="asset/css/reset.css">
  <link rel="stylesheet" href="asset/css/style.css">
</head>

<body>

  <header id="masthead">
    <div class="container">
      <a id="logo">HT </a>
      <nav>
        <a href="index.html">About</a>
        <a href="portfolio.html">Portfolio</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
  </header>

  <div id="main-container" class="container">
    <section class="main-section">
      <h1>Contact</h1>

      <form id="contact-form">
        <ul>
          <li>
            <label for="name">
              <p> Your Name </p>
            </label>
            <input type="text" id="name" name="name" required="required">
          </li>
          <li>
            <label for="email">
              <p> Your Email</p>
            </label>
            <input type="email" id="email" name="email" required="required">
          </li>
          <li>
            <label for="message">
              <p> Message </p>
            </label>
            <textarea id="message" name="message" required="required"></textarea>
          </li>
        </ul>
        <input type="submit">
      </form>

    </section>

  </div>

  <footer>
    <div class="container">
      Halle Thompson &copy;
    </div>
  </footer>

  <script src="https://code.jquery.com/jquery.js"></script>
  <script>

    // 1. Initialize Firebase
    var config = {
      apiKey: "AIzaSyDipyA__XFaTBmPAqXoc1ZnNM5NADn8Tok",
      authDomain: "contact-me-6886e.firebaseapp.com",
      databaseURL: "https://contact-me-6886e.firebaseio.com",
      projectId: "contact-me-6886e",
      storageBucket: "",
      messagingSenderId: "301521476979"
    };
    firebase.initializeApp(config);
    // Get a reference to the database service
    var database = firebase.database();

    // Capture Button Click
    $("#message").on("click", function (event) {
      // prevent page from refreshing when form tries to submit itself
      event.preventDefault();

      // Capture user inputs and store them into variables
      var name = $("#name").val().trim();
      var email = $("#email").val().tirm();
      var message = $("message").val().tirm();

      // Creates local "temporary" object for holding employee data
      var contact = {
        name: "",
        email: "",
        message: "",
      }
      // Uploads employee data to the database
      database.ref().push(contact);
      // Console log each of the user inputs to confirm we are receiving them
      console.log(contact.name);
      console.log(contact.email);
      console.log(contact.age);
      console.log(contact.comment);

      // Alert
      alert("Thanks for Your Message!");

      // Clears all of the text-boxes
      $("#name").val("");
      $("#email").val("");
      $("message").val("");

    });

    // 3. Create Firebase event for adding employee to the database and a row in the html when a user adds an entry
    datebase.ref().on("child_added", function (childSnapshot, preventChildKey) {
      consle.log(childSnapshot.val());

      // Store everything into a variable.
      var name = childSnapshot.val().name;
      var email = childSnapshot.val().email;
      var message = childSnapshot.val().email;

      // console.log contact info 
      console.log(name);
      console.log(email);
      console.log(message);

      // add each data into the table 

    });

  </script>
</body>

</html>